"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[918],{279:(t,e,a)=>{a.d(e,{Z:()=>o});var i=a(588);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(n=i.key,o=void 0,o=function(t,e){if("object"!==r(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(n,"string"),"symbol"===r(o)?o:String(o)),i)}var n,o}const o=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,a,r;return e=t,a=[{key:"getList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,o=this.url+"?count="+t+"&page="+e;return a&&(o+="&sort="+a),r&&(o+="&dir="+r),n&&(o+="&filter="+n),i.Z.get(o)}},{key:"getById",value:function(t){return i.Z.get(this.url+"/"+t,{params:{id:t}})}},{key:"get",value:function(t){return i.Z.get(t)}}],a&&n(e.prototype,a),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}())},613:(t,e,a)=>{a.d(e,{Z:()=>n});var i=a(645),r=a.n(i)()((function(t){return t[1]}));r.push([t.id,".styled-table[data-v-6bc8e0c4]{border-collapse:collapse;width:100%}.styled-table td[data-v-6bc8e0c4]{border-bottom:1px solid #ccc;padding:5px 10px}td.heading[data-v-6bc8e0c4]{background-color:#2d499d;border-color:#2d499d;color:#fff;font-weight:700;padding:15px 10px}.heading.active[data-v-6bc8e0c4]{background-color:#4c6ac7}",""]);const n=r},918:(t,e,a)=>{a.r(e),a.d(e,{default:()=>S});var i=a(821),r={class:"card card-primary card-outline"},n={class:"card-body"};var o=a(279),s={class:"styled-table"},l=["data-code","data-dir","data-index"],c=["src"],d=(0,i.Uk)("111_2 "),u=["href"],p=(0,i.Uk)("222_2 "),g=(0,i.Uk)("333_2 ");const f={name:"Table",data:function(){return{}},methods:{filterFields:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.keys(e).filter((function(e){return!1===t.columns.includes(e)})).forEach((function(t){return delete e[t]})),e},sortColumn:function(t){var e=t.target.dataset.code,a=t.target.dataset.dir,i=t.target.dataset.index;for(var r in this.headers)this.headers[r].is_sort=!1;a="desc"===a?"asc":"desc",t.target.dataset.dir=a,this.headers[i].dir=a,this.headers[i].is_sort=!0,this.$emit("updateItems",1,e,a)}},props:["headers","items","columns","route_create_name","route_edit_name"],mounted:function(){}};var h=a(379),m=a.n(h),v=a(613),_={insert:"head",singleton:!1};m()(v.Z,_);v.Z.locals;var b=a(744);const y=(0,b.Z)(f,[["render",function(t,e,a,r,n,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("table",s,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.headers,(function(t,a){return(0,i.wg)(),(0,i.iD)("td",{class:(0,i.C_)([t.is_sort?"active":"","heading"]),"data-code":t.code,"data-dir":t.dir,"data-index":a,onClick:e[0]||(e[0]=function(){return o.sortColumn&&o.sortColumn.apply(o,arguments)}),key:t.title},[(0,i.Uk)((0,i.zw)(t.title)+" ",1),(0,i._)("i",{class:(0,i.C_)(["bi","asc"===t.dir?"bi-arrow-up-short":"bi-arrow-down-short"])},null,2)],10,l)})),128))]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.items,(function(t){return(0,i.wg)(),(0,i.iD)("tr",{key:t.id},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.headers,(function(e,a){return(0,i.wg)(),(0,i.iD)("td",{key:a},["img"===e.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("img",{alt:"",style:{"max-height":"90px"},src:t[e.code]},null,8,c),d],64)):"url"===e.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("a",{href:t[e.url]},(0,i.zw)(t[e.code]),9,u),p],64)):"badge"===e.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[(0,i._)("span",{class:(0,i.C_)(["badge",t[e.code].class])},(0,i.zw)(t[e.code].title),3),g],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:3},[(0,i.Uk)((0,i.zw)(t[e.code])+"444_2 ",1)],64))])})),128))])})),128))])])}],["__scopeId","data-v-6bc8e0c4"]]);var w={class:"mt-3","aria-label":"Page navigation"},k={class:"pagination"},D={key:0,class:"page-item"},C=[(0,i._)("span",{"aria-hidden":"true"},"«",-1)],P=["onClick"],Z={key:1,class:"page-item"},x=[(0,i._)("span",{"aria-hidden":"true"},"»",-1)];const I={props:{pagination:{type:Object},offset:{type:Number,default:4}},computed:{pagesNumber:function(){if(!this.pagination.to)return[];var t=this.pagination.current_page-this.offset;t<1&&(t=1);var e=t+2*this.offset;e>=this.pagination.last_page&&(e=this.pagination.last_page);for(var a=[],i=t;i<=e;i++)a.push(i);return a}},methods:{changePage:function(t){this.$emit("paginate",t)}}},j={data:function(){return{title:{},items:{},offset:null,headers:{},per_page:null,sort:null,dir:null,add:"",edit:"",current_page:1}},components:{TableAdmin:y,VuePagination:(0,b.Z)(I,[["render",function(t,e,a,r,n,o){return(0,i.wg)(),(0,i.iD)("nav",w,[(0,i._)("ul",k,[a.pagination.current_page>1?((0,i.wg)(),(0,i.iD)("li",D,[(0,i._)("a",{class:"page-link",href:"javascript:void(0)","aria-label":"Previous",onClick:e[0]||(e[0]=(0,i.iM)((function(t){return o.changePage(a.pagination.current_page-1)}),["prevent"]))},C)])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.pagesNumber,(function(t){return(0,i.wg)(),(0,i.iD)("li",{class:(0,i.C_)(["page-item",{active:t==a.pagination.current_page}])},[(0,i._)("a",{class:"page-link",href:"javascript:void(0)",onClick:(0,i.iM)((function(e){return o.changePage(t)}),["prevent"])},(0,i.zw)(t),9,P)],2)})),256)),a.pagination.current_page<a.pagination.last_page?((0,i.wg)(),(0,i.iD)("li",Z,[(0,i._)("a",{class:"page-link",href:"javascript:void(0)","aria-label":"Next",onClick:e[1]||(e[1]=(0,i.iM)((function(t){return o.changePage(a.pagination.current_page+1)}),["prevent"]))},x)])):(0,i.kq)("",!0)])])}]])},computed:{},methods:{getItems:function(t,e,a){var i=this;e&&(this.sort=e),a&&(this.dir=a),o.Z.getList(this.per_page,t,this.sort,this.dir,"").then((function(e){var a;i.items=null!==(a=e.data)&&void 0!==a?a:[];var r=new URL(window.location.href);r.searchParams.delete("page"),t>1&&r.searchParams.set("page",t),window.history.replaceState(null,null,r)}))},setDefault:function(){this.title="Список пользователей",this.headers=[{title:"ID",code:"id",dir:"desc",is_sort:!0},{title:"User Name",code:"user_name",dir:"asc",is_sort:!0},{title:"Фамилия",code:"last_name",dir:"asc",is_sort:!0},{title:"Имя",code:"first_name",dir:"asc",is_sort:!0},{title:"Отчество",code:"patronymic",dir:"asc",is_sort:!0},{title:"E-mail",code:"email",dir:"asc",is_sort:!0},{title:"Пароль",code:"password",dir:"asc",is_sort:!0}],this.offset=[],this.per_page=10,this.$store.dispatch("setTitle",this.title),o.Z.url="users",this.getItems()}},mounted:function(){o.Z.url=this.$route.params.entity,this.setDefault()}},S=(0,b.Z)(j,[["render",function(t,e,a,o,s,l){var c,d=(0,i.up)("table-admin"),u=(0,i.up)("vue-pagination");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",n,[(0,i.Wm)(d,{items:s.items.data,headers:s.headers,onUpdateItems:l.getItems},null,8,["items","headers","onUpdateItems"]),(0,i.Wm)(u,{pagination:null!==(c=s.items.meta)&&void 0!==c?c:{},onPaginate:l.getItems,offset:s.per_page},null,8,["pagination","onPaginate","offset"])])])}]])}}]);